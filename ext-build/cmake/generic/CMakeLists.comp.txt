
include(@LOCAL_COMP_ROOTDIR@/comp.cmake)

COMP_CHECK_VARS()
    
include_directories(@LOCAL_COMP_ROOTDIR@/include)

message(STATUS "Found component in ${comp_dir}")

BOZ_COMP_FIND_APIS(${comp_dir})     

message(STATUS "Check presence of (@LOCAL_COMP_ROOTDIR@/src/src.cmake)")
if(EXISTS @LOCAL_COMP_ROOTDIR@/src/src.cmake)
    ## prepare configure_file
    set(LOCAL_SRC_ROOTDIR @LOCAL_COMP_ROOTDIR@/src)

    configure_file(
        ${BOZ_EXT_BUILD_DIR}/generic/CMakeLists.gen.txt
        @LOCAL_COMP_SRCDIR@/src/CMakeLists.txt
        @ONLY)  
    add_subdirectory(@LOCAL_COMP_SRCDIR@/src @LOCAL_COMP_GENDIR@/src)       
endif()

message(STATUS "Check presence of (@LOCAL_COMP_ROOTDIR@/test/src.cmake)")
if(EXISTS @LOCAL_COMP_ROOTDIR@/test/src.cmake)
    ## prepare configure_file
    set(LOCAL_SRC_ROOTDIR @LOCAL_COMP_ROOTDIR@/test)

    configure_file(
        ${BOZ_EXT_BUILD_DIR}/generic/CMakeLists.gen.txt
        @LOCAL_COMP_SRCDIR@/test/CMakeLists.txt
        @ONLY)  
    add_subdirectory(@LOCAL_COMP_SRCDIR@/test @LOCAL_COMP_GENDIR@/test)       
endif()
